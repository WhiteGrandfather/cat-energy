{"version":3,"file":"svg4everybody.legacy-min.js","sources":["svg4everybody.legacy.js"],"sourcesContent":["!function(root, factory) {\n  \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n  define([], function() {\n      return root.svg4everybody = factory();\n  }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n  // only CommonJS-like environments that support module.exports,\n  // like Node.\n  module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n  /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n  function embed(parent, svg, target, use) {\n      // if the target exists\n      if (target) {\n          // create a document fragment to hold the contents of the target\n          var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n          // conditionally set the viewBox on the svg\n          viewBox && svg.setAttribute(\"viewBox\", viewBox);\n          // copy the contents of the clone into the fragment\n          for (// clone the target\n          var clone = document.importNode ? document.importNode(target, !0) : target.cloneNode(!0), g = document.createElementNS(svg.namespaceURI || \"http://www.w3.org/2000/svg\", \"g\"); clone.childNodes.length; ) {\n              g.appendChild(clone.firstChild);\n          }\n          if (use) {\n              for (var i = 0; use.attributes.length > i; i++) {\n                  var attr = use.attributes[i];\n                  \"xlink:href\" !== attr.name && \"href\" !== attr.name && g.setAttribute(attr.name, attr.value);\n              }\n          }\n          fragment.appendChild(g), // append the fragment into the svg\n          parent.appendChild(fragment);\n      }\n  }\n  function loadreadystatechange(xhr, use) {\n      // listen to changes in the request\n      xhr.onreadystatechange = function() {\n          // if the request is ready\n          if (4 === xhr.readyState) {\n              // get the cached html document\n              var cachedDocument = xhr._cachedDocument;\n              // ensure the cached html document based on the xhr response\n              cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"),\n              cachedDocument.body.innerHTML = xhr.responseText, // ensure domains are the same, otherwise we'll have issues appending the\n              // element in IE 11\n              cachedDocument.domain !== document.domain && (cachedDocument.domain = document.domain),\n              xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n              xhr._embeds.splice(0).map(function(item) {\n                  // get the cached target\n                  var target = xhr._cachedTarget[item.id];\n                  // ensure the cached target\n                  target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)),\n                  // embed the target into the svg\n                  embed(item.parent, item.svg, target, use);\n              });\n          }\n      }, // test the ready state change immediately\n      xhr.onreadystatechange();\n  }\n  function svg4everybody(rawopts) {\n      function oninterval() {\n          // if all <use>s in the array are being bypassed, don't proceed.\n          if (numberOfSvgUseElementsToBypass && uses.length - numberOfSvgUseElementsToBypass <= 0) {\n              return void requestAnimationFrame(oninterval, 67);\n          }\n          // if there are <use>s to process, proceed.\n          // reset the bypass counter, since the counter will be incremented for every bypassed element,\n          // even ones that were counted before.\n          numberOfSvgUseElementsToBypass = 0;\n          // while the index exists in the live <use> collection\n          for (// get the cached <use> index\n          var index = 0; index < uses.length; ) {\n              // get the current <use>\n              var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n              if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)),\n              svg && src) {\n                  // if running with legacy support\n                  if (nosvg) {\n                      // create a new fallback image\n                      var img = document.createElement(\"img\");\n                      // force display in older IE\n                      img.style.cssText = \"display:inline-block;height:100%;width:100%\", // set the fallback size using the svg size\n                      img.setAttribute(\"width\", svg.getAttribute(\"width\") || svg.clientWidth), img.setAttribute(\"height\", svg.getAttribute(\"height\") || svg.clientHeight),\n                      // set the fallback src\n                      img.src = fallback(src, svg, use), // replace the <use> with the fallback image\n                      parent.replaceChild(img, use);\n                  } else {\n                      if (polyfill) {\n                          if (!opts.validate || opts.validate(src, svg, use)) {\n                              // remove the <use> element\n                              parent.removeChild(use);\n                              // parse the src and get the url and id\n                              var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                              // if the link is external\n                              if (url.length) {\n                                  // get the cached xhr request\n                                  var xhr = requests[url];\n                                  // ensure the xhr request exists\n                                  xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(),\n                                  xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                  xhr._embeds.push({\n                                      parent: parent,\n                                      svg: svg,\n                                      id: id\n                                  }), // prepare the xhr ready state change event\n                                  loadreadystatechange(xhr, use);\n                              } else {\n                                  // embed the local id into the svg\n                                  embed(parent, svg, document.getElementById(id), use);\n                              }\n                          } else {\n                              // increase the index when the previous value was not \"valid\"\n                              ++index, ++numberOfSvgUseElementsToBypass;\n                          }\n                      }\n                  }\n              } else {\n                  // increase the index when the previous value was not \"valid\"\n                  ++index;\n              }\n          }\n          // continue the interval\n          requestAnimationFrame(oninterval, 67);\n      }\n      var nosvg, fallback, opts = Object(rawopts);\n      // configure the fallback method\n      fallback = opts.fallback || function(src) {\n          return src.replace(/\\?[^#]+/, \"\").replace(\"#\", \".\").replace(/^\\./, \"\") + \".png\" + (/\\?[^#]+/.exec(src) || [ \"\" ])[0];\n      }, // set whether to shiv <svg> and <use> elements and use image fallbacks\n      nosvg = \"nosvg\" in opts ? opts.nosvg : /\\bMSIE [1-8]\\b/.test(navigator.userAgent),\n      // conditionally shiv <svg> and <use>\n      nosvg && (document.createElement(\"svg\"), document.createElement(\"use\"));\n      // set whether the polyfill will be activated or not\n      var polyfill, olderIEUA = /\\bMSIE [1-8]\\.0\\b/, newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n      polyfill = \"polyfill\" in opts ? opts.polyfill : olderIEUA.test(navigator.userAgent) || newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n      // create xhr requests object\n      var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n      // conditionally start the interval if the polyfill is active\n      polyfill && oninterval();\n  }\n  function getSVGAncestor(node) {\n      for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n      return svg;\n  }\n  return svg4everybody;\n});\n"],"names":["root","factory","define","amd","svg4everybody","module","exports","this","embed","parent","svg","target","use","fragment","document","createDocumentFragment","viewBox","hasAttribute","getAttribute","setAttribute","clone","importNode","cloneNode","g","createElementNS","namespaceURI","childNodes","length","appendChild","firstChild","i","attributes","attr","name","value","loadreadystatechange","xhr","onreadystatechange","readyState","cachedDocument","_cachedDocument","implementation","createHTMLDocument","body","innerHTML","responseText","domain","_cachedTarget","_embeds","splice","map","item","id","getElementById","getSVGAncestor","node","nodeName","toLowerCase","parentNode","rawopts","nosvg","fallback","opts","Object","src","replace","exec","test","navigator","userAgent","createElement","polyfill","inIframe","window","top","self","match","requests","requestAnimationFrame","setTimeout","uses","getElementsByTagName","numberOfSvgUseElementsToBypass","oninterval","index","attributeName","img","style","cssText","clientWidth","clientHeight","replaceChild","validate","removeChild","srcSplit","split","url","shift","join","XMLHttpRequest","open","send","push"],"mappings":"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"}